<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function ajax() {
        return new Promise((resolve, reject) => {
            const xhr = new XMLHttpRequest()
            xhr.open('get','http://www.liulongbin.top:3009/api/getbooks')
            xhr.send()
            xhr.addEventListener('load',() => {
                resolve(JSON.parse(xhr.response))
            })
            xhr.addEventListener('error',() => {
                reject('出错了')
            })
        })
    }
    ajax().then(response => console.log(response)).catch(error => console.log(error))
</script>
</body>
</html>